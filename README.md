# Crypto art galleries and smart contracts
This repository contains code and data that were used for an Amsterdam University College bachelor's thesis. The subject of the thesis are crypto art galleries and their business model. It was investigated how revenue is gained by 4 crypto galleries: SuperRare, Async Art, Makers Place and Foundation. Data was collected by querying publicly available data on financial transactions from the Ethereum blockchain through etherscan. The repository is divided into 3 folders. Mining contains the code that was used to retrieve the financial data for the 4 galleries. Data contains the collected and processed data in csv files. Analysis contains code for processing the data and presenting the results.
## Mining
Folder containing all necessary code to retrieve the financial data for the 4 galleries. The file query.py contains general functions to help formulate queries, connect to etherscan, receive and format the results into python dictionaries. Each of the files that mine the galleries contain code tailored specifically for the characteristics of that gallery. In a file are defined the known contract addresses for that gallery and different method IDs for contract calls. Each collection process generally takes place in two steps. First all the history of transactions for a gallery are retrieved. Then relevant methods such as acceptbid or sale are identified, with the rest filtered out. In a second round, all internal transactions related to these relevant transaction types are collected. Assumptions and filtering specific to galleries are explained in more detail within the respective files.
## Data
Contains all data in the final form that was used for this research. Is subdivided into two folders: raw and processed. Raw contains 8 csv files, two for each gallery under consideration. For each gallery there is a file Transactions.csv, and InternalTransactions.csv. These files contain a list of all financial records that were retrieved from etherscan in the mining step. The columns consist of the information that is available on etherscan, as well as some metadata added by the mining scripts, such as the transaction hash associated to an internal transaction, to ease the linking together of different records. The subfolder processed contains the data in its final form, after an analysing script has processed the raw data. Here there are 7 csv files, two for each gallery, with the exception of Foundation. One file represents all sales that were made on the primary market, while the other consists of sales on the secondary market. For each sale is recorded the total price, the fees for the gallery, artist and seller, as well as the relative percentages of these fees.
## Analysis
Here are the scripts for processing the data into a format that is useful to answer the research question, as well as some code to create visualizations. For each gallery there is an analysis file, which transforms the records on regular and internal transactions into data representing sales and commission fees. Much of the filtering and processing steps are specific for each gallery, and explained in more detail within the respective files. In general, the processing happened along the following lines. First, transactions belonging to the same sale were grouped together, usually by transaction hash, or otherwise by token ID. Next it was identified whether they belonged to a primary or secondary sale, usually by counting the number of internal transactions. Finally, for the two markets, the sale prices and ETH amounts going to different accounts were used to reconstruct the percentage fees. After processing, the data was again stored into csv files.
